"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[866,14],{31851:function(g,s,a){a.r(s),a.d(s,{default:function(){return y}});var u=a(48305),n=a.n(u),e=a(19158),d=a(10316),c=a(64616),j=a(53595),E=a(31724),Z=a(81497),r=a(12127),v=a(84750),A=a(32699),p=a(93236),I="https://ap-southeast-1.aws.services.cloud.mongodb.com/api/client/v2.0/app/data-erhzmlq/auth/providers/local-userpass/login",C="https://ap-southeast-1.aws.data.mongodb-api.com/app/data-erhzmlq/endpoint/data/v1/action/find",l="access_token",S=function(i){localStorage.setItem(l,i)},U=function(){localStorage.getItem(l)},t=a(62086),T=function(){var i=e.Z.useForm(),D=n()(i,1),F=D[0],B=(0,p.useState)([]),x=n()(B,2),f=x[0],P=x[1],L=function(m){v.Z.post(C,{collection:"users",database:"sample_mflix",dataSource:"JehChenxx"},{headers:{Authorization:"Bearer ".concat(m)}}).then(function(o){var M=o.data;return P(M.documents)}).catch(function(){return d.ZP.error({message:"\u67E5\u8BE2\u5931\u8D25"})})},O=function(m){v.Z.post(I,m).then(function(o){console.log(o),S(o.data[l]),L(o.data[l])}).catch(function(){return d.ZP.error({message:"\u767B\u9646\u5931\u8D25"})})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(e.Z,{name:"login",form:F,onFinish:O,children:[(0,t.jsx)(e.Z.Item,{required:!0,label:"\u7528\u6237\u540D/\u90AE\u7BB1",name:"username",children:(0,t.jsx)(c.Z,{allowClear:!0})}),(0,t.jsx)(e.Z.Item,{required:!0,label:"\u5BC6\u7801",name:"password",children:(0,t.jsx)(c.Z,{allowClear:!0})}),(0,t.jsx)(j.ZP,{type:"primary",htmlType:"submit",children:"\u786E\u5B9A"})]}),!(0,A.isEmpty)(f)&&(0,t.jsx)(E.Z,{title:"\u6570\u636E\u5E93\u793A\u4F8B\u6570\u636E",children:(0,t.jsxs)(Z.Z,{rowKey:"_id",dataSource:f,children:[(0,t.jsx)(r.Z,{title:"_id",dataIndex:"_id"},"_id"),(0,t.jsx)(r.Z,{title:"Name",dataIndex:"name"},"name"),(0,t.jsx)(r.Z,{title:"email",dataIndex:"email"},"email"),(0,t.jsx)(r.Z,{title:"password",dataIndex:"password"},"password")]})})]})},y=T},54752:function(g,s,a){a.r(s);var u=a(31851),n=a(62086),e=function(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(u.default,{})})};s.default=e}}]);
