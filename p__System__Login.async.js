"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[14],{31851:function(N,u,a){a.r(u),a.d(u,{default:function(){return F}});var f=a(48305),d=a.n(f),n=a(19158),i=a(10316),m=a(64616),g=a(53595),Z=a(31724),p=a(81497),s=a(12127),c=a(84750),j=a(32699),A=a(93236),E="https://ap-southeast-1.aws.services.cloud.mongodb.com/api/client/v2.0/app/data-erhzmlq/auth/providers/local-userpass/login",S="https://ap-southeast-1.aws.data.mongodb-api.com/app/data-erhzmlq/endpoint/data/v1/action/find",o="access_token",C=function(r){localStorage.setItem(o,r)},U=function(){localStorage.getItem(o)},t=a(62086),y=function(){var r=n.Z.useForm(),I=d()(r,1),T=I[0],B=(0,A.useState)([]),v=d()(B,2),x=v[0],D=v[1],z=function(l){c.Z.post(S,{collection:"users",database:"sample_mflix",dataSource:"JehChenxx"},{headers:{Authorization:"Bearer ".concat(l)}}).then(function(e){var K=e.data;return D(K.documents)}).catch(function(){return i.ZP.error({message:"\u67E5\u8BE2\u5931\u8D25"})})},L=function(l){c.Z.post(E,l).then(function(e){console.log(e),C(e.data[o]),z(e.data[o])}).catch(function(){return i.ZP.error({message:"\u767B\u9646\u5931\u8D25"})})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.Z,{name:"login",form:T,onFinish:L,children:[(0,t.jsx)(n.Z.Item,{required:!0,label:"\u7528\u6237\u540D/\u90AE\u7BB1",name:"username",children:(0,t.jsx)(m.Z,{allowClear:!0})}),(0,t.jsx)(n.Z.Item,{required:!0,label:"\u5BC6\u7801",name:"password",children:(0,t.jsx)(m.Z,{allowClear:!0})}),(0,t.jsx)(g.ZP,{type:"primary",htmlType:"submit",children:"\u786E\u5B9A"})]}),!(0,j.isEmpty)(x)&&(0,t.jsx)(Z.Z,{title:"\u6570\u636E\u5E93\u793A\u4F8B\u6570\u636E",children:(0,t.jsxs)(p.Z,{rowKey:"_id",dataSource:x,children:[(0,t.jsx)(s.Z,{title:"_id",dataIndex:"_id"},"_id"),(0,t.jsx)(s.Z,{title:"Name",dataIndex:"name"},"name"),(0,t.jsx)(s.Z,{title:"email",dataIndex:"email"},"email"),(0,t.jsx)(s.Z,{title:"password",dataIndex:"password"},"password")]})})]})},F=y}}]);
